"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=Math.pow(2,53)-1,i=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),r)};return function(e){var r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,n=arguments.length>1?arguments[1]:void 0;if(void 0!==n){if(!t(n))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var o,s=i(r.length),u=t(this)?Object(new this(s)):new Array(s),c=0;c<s;)o=r[c],u[c]=n?void 0===a?n(o,c):n.call(a,o,c):o,c+=1;return u.length=s,u}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,r;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),r=0;r<a;){var n;r in i&&(n=i[r],e.call(t,n,r,i)),r++}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],a=0;a<r;){var n=t[a];if(e.call(i,n,a,t))return a;a++}return-1},configurable:!0,writable:!0});var SpiritCardGrid=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"init",value:function(){Array.from(document.querySelectorAll(".spirit-card-carousel")).forEach(function(t){e.initializeEachCarousel(t)})}},{key:"initializeEachCarousel",value:function(t){e.addCarouselEventListeners(t),e.carouselIsActive(t)&&e.setActiveCardAriaAttribute(t,0)}},{key:"addCarouselEventListeners",value:function(t){var r=t.querySelector(".spirit-card-grid"),i=t.querySelectorAll(".spirit-card").length,a=Array.from(t.querySelectorAll(".spirit-card-carousel__button")),n=void 0,o=void 0;a.forEach(function(r){r.addEventListener("click",function(r){var i=Array.from(t.querySelectorAll(".spirit-card-carousel__indicator-dot")),a=i.findIndex(function(e){return e.classList.contains("spirit-card-carousel__indicator-dot--active")}),n=Math.min(i.length,a+1);this.classList.contains("spirit-card-carousel__button--prev")&&(n=Math.max(0,a-1)),e.setActiveCardScrollPosition(t,n)})}),r.addEventListener("scroll",function(r){var a=this;n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(function(){var r=a.scrollLeft,n=a.scrollWidth-a.clientWidth,o=1/i,s=Math.min(Math.floor(r/n/o),i-1);e.setActiveIndicator(t,s),e.setActiveCardAriaAttribute(t,s)})},!1),window.addEventListener("resize",function(r){o&&window.cancelAnimationFrame(o),o=window.requestAnimationFrame(function(){e.carouselIsActive(t)?e.setActiveCardAriaAttribute(t,0):e.removeCarouselAriaAttribute(t)})})}},{key:"removeCarouselAriaAttribute",value:function(e){Array.from(e.querySelectorAll(".spirit-card")).forEach(function(e){return e.removeAttribute("aria-hidden")})}},{key:"carouselIsActive",value:function(e){return null!==e.querySelector(".spirit-card-carousel__controls").offsetParent}},{key:"setActiveCardScrollPosition",value:function(e,t){var r=Array.from(e.querySelectorAll(".spirit-card"))[t],i=e.querySelector(".spirit-card-grid"),a=r.clientWidth,n=(window.innerWidth-a)/2,o=r.offsetLeft-n;i.scrollLeft=o}},{key:"setActiveCardAriaAttribute",value:function(e,t){var r=Array.from(e.querySelectorAll(".spirit-card")),i=r[t];r.forEach(function(e){return e.setAttribute("aria-hidden","true")}),i.setAttribute("aria-hidden","false")}},{key:"setActiveIndicator",value:function(e,t){var r="spirit-card-carousel__indicator-dot--active",i=Array.from(e.querySelectorAll(".spirit-card-carousel__indicator-dot")),a=i.length,n=e.querySelector(".spirit-card-carousel__button--prev"),o=e.querySelector(".spirit-card-carousel__button--next");i.forEach(function(e){e.classList.remove(r)}),i[t].classList.add(r),0===t?n.setAttribute("disabled",!0):n.removeAttribute("disabled"),t===a-1?o.setAttribute("disabled",!0):o.removeAttribute("disabled")}}]),e}();SpiritCardGrid.init();var spiritDialogs=function(){if("function"==typeof A11yDialog){var e=Array.from(document.querySelectorAll(".spirit-dialog"));if(e){var t="#spirit-shell-main",r="-spirit-no-scroll";e.forEach(function(e){var i=new A11yDialog(e,t),a=e.querySelector(".spirit-dialog__content"),n=function(e){a&&"alertdialog"===a.getAttribute("role")&&27===e.which&&e.preventDefault()};i.on("show",function(e){a.addEventListener("transitionend",function e(){var t=a.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');var r=a.querySelector("[autofocus]")||t[0];r&&r.focus();a.removeEventListener("transitionend",e)}),document.body.classList.add(r),document.addEventListener("keydown",n)}),i.on("hide",function(e){document.body.classList.remove(r),document.removeEventListener("keydown",n)})})}}};spiritDialogs();var SpiritFormInputMasks=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enable",value:function(){Inputmask({mask:"99/99/9999",placeholder:"mm/dd/yyyy"}).mask(".spirit-form__input--mask-date"),Inputmask({mask:"99/99",placeholder:"mm/yy"}).mask(".spirit-form__input--mask-date-mmyy"),Inputmask({mask:"(999) 999-9999"}).mask(".spirit-form__input--mask-tel")}}]),e}();SpiritFormInputMasks.enable();var SpiritFormPasswordToggle=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enable",value:function(){Array.from(document.querySelectorAll(".spirit-form__input--password-toggle")).forEach(function(e){var t=e.querySelector("input"),r=e.querySelector(".spirit-form__input-password-toggle"),i=r.querySelector('svg[aria-label="Hide"]'),a=r.querySelector('svg[aria-label="Show"]');"true"===i.getAttribute("aria-hidden")?r.setAttribute("aria-pressed","false"):r.setAttribute("aria-pressed","true"),t.addEventListener("focus",function(){e.classList.toggle("spirit-form__input--password-toggle--focus")}),t.addEventListener("blur",function(){e.classList.toggle("spirit-form__input--password-toggle--focus")}),r.addEventListener("click",function(e){e.preventDefault(),"text"===t.type?(t.type="password",r.setAttribute("aria-pressed","false"),i.setAttribute("aria-hidden","false"),a.setAttribute("aria-hidden","true")):(t.type="text",r.setAttribute("aria-pressed","true"),i.setAttribute("aria-hidden","true"),a.setAttribute("aria-hidden","false"))})})}}]),e}();SpiritFormPasswordToggle.enable();var demoPrimaryNavigation=function(){if(document.getElementById("header-nav-demo")){!function(){var e=Array.from(document.querySelectorAll(".header-nav-demo-trigger"));if(e){var t=function(e){e.preventDefault(),document.body.classList.toggle("-js-spirit-primary-nav-active")};e.forEach(function(e){e.addEventListener("click",t)})}}()}};demoPrimaryNavigation();var spiritVerticalNavigation=function(){var e=Array.from(document.querySelectorAll(".spirit-vertical-nav"));if(e){e.forEach(function(e){!function(e){var t=Array.from(e.querySelectorAll(".spirit-vertical-nav__item-parent")),r=function(e){e.classList.add("submenu-is-open"),e.parentNode.classList.add("child-has-focus"),e.setAttribute("aria-expanded",!0),e.parentNode.querySelector(".spirit-vertical-nav__subnav")&&e.parentNode.querySelector(".spirit-vertical-nav__subnav").setAttribute("aria-hidden","false")},i=function(e){e.classList.remove("submenu-is-open"),e.parentNode.classList.remove("child-has-focus"),e.setAttribute("aria-expanded",!1),e.parentNode.querySelector(".sub-menu")&&e.parentNode.querySelector(".sub-menu").setAttribute("aria-hidden","true")},a=function(t){var a=t.currentTarget;if(a.getAttribute("aria-haspopup")){t.preventDefault(),t.stopPropagation();var n=a.parentNode,o=Array.from(e.querySelectorAll(".child-has-focus > a.submenu-is-open:not(.spirit-vertical-nav__link--expanded)"));o.length>0&&o.forEach(function(t){n.parentNode.parentNode===e&&t!==a&&i(t)}),"A"===t.currentTarget.nodeName&&a.classList.contains("submenu-is-open")?i(a):r(a)}},n=function(t){if("keyup"!==!t.type&&9!==!t.keyCode){var a=t.currentTarget,n=a.parentNode,o=Array.from(e.querySelectorAll(".child-has-focus > a.submenu-is-open"));o.length>0&&o.forEach(function(t){n.parentNode.parentNode===e&&i(t)}),r(a)}};t.forEach(function(e){var t=e.querySelector("a"),r=e.querySelector(".spirit-vertical-nav__subnav");t&&r&&(t.setAttribute("aria-haspopup","true"),t.hasAttribute("aria-expanded")||t.setAttribute("aria-expanded","false"),r.setAttribute("aria-haspopup","true"),r.setAttribute("aria-label","Submenu"),t.addEventListener("click",a),t.addEventListener("keydown",n))})}(e)})}};spiritVerticalNavigation();